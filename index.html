<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ECLC Connect and Support</title>
  <style>
    :root {
      --light-aqua: #E7FCFB;
      --mint-green: #2FDBB8;
      --teal: #15B2AE;
      --text-dark: #002B56;
    }
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: linear-gradient(to bottom right, var(--light-aqua), var(--mint-green), var(--teal));
      color: var(--text-dark);
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }
    .header {
      display: flex;
      align-items: center;
      padding: 16px;
      background: transparent;
      flex-shrink: 0;
    }
    .header-left {
      flex: 1;
      text-align: right;
      font-size: 16px;
      font-weight: bold;
      padding-right: 10px;
    }
    .header-right {
      flex: 1;
      text-align: left;
      font-size: 16px;
      font-weight: bold;
      padding-left: 10px;
    }
    .logo {
      width: 120px;
      height: auto;
    }
    main {
      flex: 1;
      text-align: center;
      padding: 20px;
    }
    .button {
      background-color: var(--mint-green);
      color: white;
      padding: 14px 28px;
      margin: 12px 12px 32px;
      border: none;
      border-radius: 10px;
      font-size: 20px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      cursor: pointer;
      transition: background-color 0.3s;
    }
    .button:hover {
      background-color: var(--teal);
    }
    .link-button {
      display: block;
      width: fit-content;
      margin: 16px auto;
      background: none;
      border: none;
      padding: 0;
      color: var(--text-dark);
      font-size: 18px;
      cursor: pointer;
      text-decoration: none;
    }
    .link-button:hover {
      text-decoration: underline;
    }
    .page { display: none; }
    .page.active { display: block; }
    .back-button {
      margin-top: 20px;
      font-size: 16px;
      color: var(--text-dark);
      cursor: pointer;
    }
    footer {
      flex-shrink: 0;
      padding: 12px;
      text-align: center;
      font-size: 16px;
      background: transparent;
    }
    form {
      max-width: 360px;
      margin: auto;
      text-align: left;
    }
    form label {
      font-weight: bold;
      font-size: 16px;
    }
    #report-form label {
      display: grid;
	  grid-template-columns: auto 1fr;
      align-items: center;
      gap: 8px;
      margin-bottom: 12px;
    }
    form input, form select, form textarea {
      width: 100%;
      padding: 8px;
      margin: 4px 0 16px;
      border-radius: 6px;
      border: 1px solid #ccc;
      font-size: 16px;
    }
    #impact-range {
      margin-bottom: 16px;
      font-size: 16px;
    }
    ul.resources {
      list-style: none;
      padding: 0;
      text-align: left;
      max-width: 360px;
      margin: auto;
    }
    ul.resources li a {
      display: block;
      font-size: 16px;
      margin: 8px 0;
      color: var(--text-dark);
      text-decoration: none;
    }
    ul.resources li a:hover {
      text-decoration: underline;
    }
.checkbox-label {
  display: flex;
  align-items: center;
  justify-content: space-between; 
  margin-bottom: 12px;
  font-weight: bold; 
}

.checkbox-label input[type="checkbox"] {
  width: 20px;
  height: 20px;
}
form button.button {
	display: block;
	margin: 24px auto;
}
  </style>
  <script>
    function showPage(pageId) {
      document.querySelectorAll('.page').forEach(div => div.classList.remove('active'));
      document.getElementById(pageId).classList.add('active');
    }
    function pickupSuccess() {
      const name = document.querySelector('#pickup-form input[name="name"]').value;
      alert(name ? `Thank you, ${name}, for connecting and supporting your community!` :
                   'Thank you for connecting and supporting your community!');
      document.getElementById('pickup-form').reset();
      showPage('home-page');
    }
    function reportSuccess() {
      const name = document.querySelector('#report-form input[name="name"]').value;
      alert(name ? `Thank you, ${name}, for helping save lives!` :
                   'Thank you for helping save lives!');
      document.getElementById('report-form').reset();
      showPage('home-page');
    }
    function toggleExclusive(id) {
      ['reversal','death'].forEach(i => { if (i !== id) document.getElementById(i).checked = false; });
    }
    const impactData = {
      month: {pickedUp:325,dosesUsed:214,livesSaved:198,hospitalizations:67},
      week:  {pickedUp:75,dosesUsed:48,livesSaved:42,hospitalizations:15},
      year:  {pickedUp:4000,dosesUsed:3200,livesSaved:3000,hospitalizations:800}
    };
    function updateImpact() {
      const range = document.getElementById('impact-range').value;
      const data  = impactData[range];
      document.getElementById('impact-stats').innerHTML =
        `<p>Total Boxes Picked Up: ${data.pickedUp}</p>` +
        `<p>Total Doses Used: ${data.dosesUsed}</p>` +
        `<p>Lives Saved: ${data.livesSaved}</p>` +
        `<p>Hospitalizations After Use: ${data.hospitalizations}</p>`;
    }
    document.addEventListener('DOMContentLoaded', updateImpact);
const GAS_URL = 'https://script.google.com/macros/s/AKfycbwq-FkfAnPad59hsQ9smrEjtzh_yw89xjmq8hOz1aZcwH67QVWQn4uyK8nLguh_NGUPHw/exec'; 

function wire(formId, onSuccess) {
  const form = document.getElementById(formId);
  form.addEventListener('submit', e => {
    e.preventDefault();
    fetch(GAS_URL, {
      method: 'POST',
      body: new URLSearchParams(new FormData(form))
    })
    .then(r => r.json())
    .then(data => {
      if (data.status === 'success') onSuccess();
      else throw new Error('Submit failed');
    })
    .catch(err => {
      console.error(err);
      alert('Sorry, there was an error submitting the form.');
    });
  });
}

document.addEventListener('DOMContentLoaded', () => {
  wire('pickup-form', pickupSuccess);
  wire('report-form', reportSuccess);
  updateImpact();  
});
  </script>
</head>
<body>
  <div class="header">
    <div class="header-left">Support. Educate.</div>
    <img src="eclc-logo.png" alt="ECLC Logo" class="logo">
    <div class="header-right">Advocate. Resilience.</div>
  </div>
  <main>
    <div id="home-page" class="page active">
      <button class="button" onclick="showPage('picked-up-page')">I Picked Up Narcan</button>
      <button class="button" onclick="showPage('report-use-page')">Report Narcan Use</button>
      <button class="link-button" onclick="showPage('contact-page')">Contact ECLC</button>
      <button class="link-button" onclick="showPage('resources-page')">Community Resources</button>
      <button class="link-button" onclick="showPage('impact-page')">Community Impact</button>
      <button class="link-button" onclick="showPage('devotional-page')">Recovery Devotional</button>
    </div>
    <div id="picked-up-page" class="page">
      <h2>I Picked Up Narcan</h2>
      <form id="pickup-form">
        <input type="hidden" name="formType" value="pickup">
        <label>How many boxes picked up?</label>
        <input type="number" name="boxes" min="1" required>
        <label>Age (Optional)</label>
        <select name="age">
          <option value="" disabled selected hidden>Select your age</option>
          <option value="Under 18">Under 18</option>
          <option value="18-24">18-24</option>
          <option value="25-34">25-34</option>
          <option value="35-44">35-44</option>
          <option value="45-54">45-54</option>
          <option value="55-64">55-64</option>
          <option value="65+">65+</option>
        </select>
        <label>Sex (Optional)</label>
        <select name="sex">
          <option value="" disabled selected hidden>Select your sex</option>
          <option value="Male">Male</option>
          <option value="Female">Female</option>
        </select>
        <label>Ethnicity (Optional)</label>
        <select name="ethnicity">
          <option value="" disabled selected hidden>Select your ethnicity</option>
          <option value="White">White</option>
          <option value="Black or African American">Black or African American</option>
          <option value="Hispanic or Latino">Hispanic or Latino</option>
          <option value="Native American or Alaska Native">Native American or Alaska Native</option>
          <option value="Asian">Asian</option>
          <option value="Pacific Islander or Native Hawaiian">Pacific Islander or Native Hawaiian</option>
          <option value="Multiracial">Multiracial</option>
        </select>
        <label>Education Level (Optional)</label>
        <select name="education">
          <option value="" disabled selected hidden>Select your education</option>
          <option value="Less than high school">Less than high school</option>
          <option value="High school diploma or GED">High school diploma or GED</option>
          <option value="Some college">Some college</option>
          <option value="Associate's degree">Associate's degree</option>
          <option value="Bachelor's degree">Bachelor's degree</option>
          <option value="Graduate or professional degree">Graduate or professional degree</option>
        </select>
        <label>Relationship Status (Optional)</label>
        <select name="relationship">
          <option value="" disabled selected hidden>Select relationship status</option>
          <option value="Single">Single</option>
          <option value="In a relationship">In a relationship</option>
          <option value="Married">Married</option>
          <option value="Separated">Separated</option>
          <option value="Divorced">Divorced</option>
          <option value="Widowed">Widowed</option>
        </select>
        <label>Miscellaneous Comments (Optional)</label>
        <textarea 
          name="comments" 
          rows="4"
          placeholder="Any extra details...? (Optional)">
        </textarea>
        <label>Your Name (Optional)</label>
        <input type="text" name="name">
        <button type="submit" class="button">Submit</button>
      </form>
      <div class="back-button" onclick="showPage('home-page')">⬅️ Back to Home</div>
    </div>
    <div id="report-use-page" class="page">
      <h2>Report Narcan Use</h2>
      <form id="report-form">
        <input type="hidden" name="formType" value="use">
        <label>How many doses administered? *Two per box*</label>
        <input type="number" name="doses" min="1" required>
        <label>Result:</label><br>
        <label class="checkbox-label">
			    Overdose Reversal
			    <input
				    type="checkbox"
            name="result"
            value="Overdose Reversal"
				    id="reversal"
				    onclick="toggleExclusive('reversal')">
		    </label><br>
		    <label class="checkbox-label">
			    Overdose Death
			    <input
				    type="checkbox"
            name="result"
            value="Overdose Death"
				    id="death"
				    onclick="toggleExclusive('death')">
		    </label><br>
        <label>Was 911 called?</label>
        <select name="called911" required>
          <option value="">Select</option>
          <option value="Yes">Yes</option>
          <option value="No">No</option>
        </select>
        <label>Did they go to the hospital?</label>
        <select name="hospital" required>
          <option value="">Select</option>
          <option value="Yes">Yes</option>
          <option value="No">No</option>
          <option value="Unknown">Unknown</option>
        </select>
        <label>Miscellaneous Comments (Optional)</label>
        <textarea 
          name="comments" 
          rows="4" 
          placeholder="Any extra details...? (Optional)">
        </textarea>
        <label>Your Name (Optional)</label>
        <input type="text" name="name" placeholder="e.g. John Doe">
        <button type="submit" class="button">Submit</button>
      </form>
      <div class="back-button" onclick="showPage('home-page')">⬅️ Back to Home</div>
    </div>
    <div id="contact-page" class="page">
      <h2>Contact ECLC</h2>
      <p><a href="tel:+18506125640" class="link-button">Call Us</a></p>
      <p><a href="mailto:emeraldcoastlifecenter@gmail.com" class="link-button">Email Us</a></p>
      <p>Visit us at: 518 US HWY 90 Holt, Florida 32564</p>
      <div class="back-button" onclick="showPage('home-page')">⬅️ Back to Home</div>
    </div>
    <div id="resources-page" class="page">
      <h2>Community Resources</h2>
      <ul class="resources">
        <li><a href="https://okaloosarecoverycenter.org" target="_blank">Okaloosa Recovery Center</a></li>
        <li><a href="https://nwflmhc.org" target="_blank">Northwest Florida Mental Health Services</a></li>
        <li><a href="https://feedingthepantry.org" target="_blank">Food Banks & Shelters</a></li>
        <li><a href="https://988lifeline.org" target="_blank">24/7 Crisis Hotline</a></li>
      </ul>
      <div class="back-button" onclick="showPage('home-page')">⬅️ Back to Home</div>
    </div>
    <div id="impact-page" class="page">
      <h2>Community Impact</h2>
      <label for="impact-range">Select Range:</label><br>
      <select id="impact-range" onchange="updateImpact()">
        <option value="month" selected>This Month</option>
        <option value="week">This Week</option>
        <option value="year">This Year</option>
      </select>
      <div id="impact-stats"></div>
      <div class="back-button" onclick="showPage('home-page')">⬅️ Back to Home</div>
    </div>
    <div id="devotional-page" class="page">
      <h2>Recovery Devotional</h2>
      <p>"The Lord is near to the brokenhearted and saves the crushed in spirit." (Psalm 34:18)</p>
      <p><strong>Daily Devotional - Rebuilding from Within</strong><br>
      Every step you take toward recovery, no matter how small, is a step of immense courage.<br>
      Remember: healing isn't about becoming someone new — it's about returning to the person you were always meant to be.<br>
      You are not defined by your past, only by the strength you show in moving forward.<br>
      Today, choose to breathe, choose to believe, and choose to rise again.</p>
      <div class="back-button" onclick="showPage('home-page')">⬅️ Back to Home</div>
    </div>
  </main>
  <footer>Connect and Support!</footer>
</body>
</html>
